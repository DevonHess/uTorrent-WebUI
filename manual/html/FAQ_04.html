<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>FAQ: Network</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="icon" href="../img/icon.ico" type="image/vnd.microsoft.icon" />
	<link rel="stylesheet" href="../style.css" type="text/css" />
</head>
<body>
	<div id="wrapper">
		<div class="navi" id="naviTop">
			<ul>
				<li><a href="FAQ_03.html">&laquo;&nbsp; Previous</a></li>
				<li><a href="FAQ_05.html">Next &nbsp;&raquo;</a></li>
			</ul>
		</div>
		<div id="header">
			<a href="../index.html">&micro;Torrent User Manual</a> &gt;
			<a href="FAQ.html">FAQ: Frequently Asked Questions</a>
			<h1>Network</h1>
		</div>
		<div id="content">

<h3><a class="name" id="Does_uTorrent_work_well_on_Windows_XP_SP2_or_higher_operating_systems_with_an_unpatched_TCPIP.sys" href="#Does_uTorrent_work_well_on_Windows_XP_SP2_or_higher_operating_systems_with_an_unpatched_TCPIP.sys">Does &micro;Torrent work well on Windows XP SP2 or higher operating systems with an unpatched TCPIP.sys?</a></h3>
<p>Yes, by default, &micro;Torrent will make at most <span class="value">8</span> simultaneous connection attempts to work within the <span class="value">10</span> connection attempt (half-open connection) limit on these operating systems.</p>
<p>Patching TCPIP.sys to a higher limit may help if you are having problems with your Internet connection, though increasing the limit may also cause some routers to freeze up (due to the increased rate of simultaneous connection attempts). If you would still like to patch the file, download the <a href="ExternalLinks.html#Miscellaneous">EventID 4226 Patcher from LvlLord.de</a>.</p>
<p>Beware that in most cases, you should refrain from setting the TCPIP.sys limit to any number greater than <span class="value">50</span>, as there are few (if any) benefits to be gained from higher numbers. Also understand that <a href="AppendixA_02_12.html#net.max_halfopen">net.max_halfopen</a> should always be set to a number <em>lower</em> than the TCPIP.sys limit set by the patcher (at most <span class="value">80</span>% of the TCPIP.sys limit only). For more information on how (or whether) the half-open connection limit should be set, see <a href="FAQ_04.html#What_should_I_set_my_half-open_connection_limit_to">this FAQ entry</a>.</p>
<p>Microsoft has made a habit of reverting the TCPIP.sys connection attempt limit through Windows Update, which (for many users) occurs on a monthly basis. If you decide to patch your TCPIP.sys file and raise the net.max_halfopen limit along with it, then remember to repatch the file every time you perform a Windows Update (otherwise, you'll most likely run into connection troubles).</p> 

<hr />
<h3><a class="name" id="How_can_I_tell_if_a_peer_is_an_incoming_or_outgoing_connection" href="#How_can_I_tell_if_a_peer_is_an_incoming_or_outgoing_connection">How can I tell if a peer is an incoming or outgoing connection?</a></h3>
<p>You can check the <a href="AppendixA_01_05_03.html#Flags">Flag column in the Peers tab</a> for the peer.</p>

<hr />
<h3><a class="name" id="How_do_I_change_the_number_of_active_torrents_jobs_or_downloads_allowed_to_run_simultaneously" href="#How_do_I_change_the_number_of_active_torrents_jobs_or_downloads_allowed_to_run_simultaneously">How do I change the number of active torrents jobs or downloads allowed to run simultaneously?</a></h3>
<p>Change the <a href="AppendixA_02_08.html#Queue_Settings">queue settings</a>. It is recommended that you not modify this setting unless you understand very clearly what the consequences are behind changing this setting. Starting too many torrent jobs simultaneously can be detrimental to bandwidth usage, so if you are not certain about your changes, stick to the numbers recommended by <a href="Chapter02_02.html#The_Setup_Guide">the Setup Guide</a>.</p>

<hr />
<h3><a class="name" id="How_do_I_change_the_number_of_connections_uTorrent_uses" href="#How_do_I_change_the_number_of_connections_uTorrent_uses">How do I change the number of connections &micro;Torrent uses?</a></h3>
<p>Set the relevant options in <a href="AppendixA_02_05.html#Number_of_Connections">the preferences</a>. It is recommended that you not modify this setting unless you understand very clearly what the consequences are behind changing this setting. Starting too many torrent jobs simultaneously can be detrimental to bandwidth usage, so if you are not certain about your changes, stick to the numbers recommended by <a href="Chapter02_02.html#The_Setup_Guide">the Setup Guide</a>.</p>

<hr />
<h3><a class="name" id="How_do_I_change_the_port_uTorrent_uses" href="#How_do_I_change_the_port_uTorrent_uses">How do I change the port &micro;Torrent uses?</a></h3>
<p>The listening port for incoming connections can be set with the <a href="AppendixA_02_04.html#Listening_Port.Port_used_for_incoming_connections">Port used for incoming connections</a> option in the Preferences. For outgoing conections, &micro;Torrent uses the ephemeral port range by default, but this can be changed by using the <a href="AppendixA_02_12.html#net.outgoing_port">net.outgoing_port</a> and (optionally) <a href="AppendixA_02_12.html#net.outgoing_max_port">net.outgoing_max_port</a> options.</p>

<hr />
<h3><a class="name" id="How_do_I_forward_ports" href="#How_do_I_forward_ports">How do I forward ports?</a></h3>
<p>Read the <a href="Chapter02_03.html">Port Forwarding guide</a>.</p>

<hr />
<h3><a class="name" id="How_do_I_hide_my_IP_address" href="#How_do_I_hide_my_IP_address">How do I hide my IP address?</a></h3>
<p>You don't. BitTorrent wasn't designed with anonymity in mind. Because it requires that peers know each other's IP addresses to transfer with one another, spoofing or hiding your IP address won't do you much good with regards to speed and/or connectivity.</p>
<p>VPN or proxy services may allow you to masquerade your IP address behind other IPs, but because they act as middlemen, you are effectively firewalled behind such services, which is <a href="Chapter02_03.html#Why_Being_Firewalled_is_Bad">a bad thing</a>.</p>

<hr />
<h3><a class="name" id="How_do_I_make_uTorrent_report_a_different_IP_to_the_tracker" href="#How_do_I_make_uTorrent_report_a_different_IP_to_the_tracker">How do I make &micro;Torrent report a different IP to the tracker? I'm behind a proxy and need this function.</a></h3>
<p>Set the <a href="AppendixA_02_06.html#Basic_BitTorrent_Features.IP_Hostname_to_report_to_tracker">IP/Hostname to report to tracker</a> option in the Preferences.</p>

<hr />
<h3><a class="name" id="How_do_I_make_uTorrent_use_a_different_upload_speed_when_seeding" href="#How_do_I_make_uTorrent_use_a_different_upload_speed_when_seeding">How do I make &micro;Torrent use a different upload speed when seeding?</a></h3>
<p>Set the <a href="AppendixA_02_05.html#Global_Upload_Rate_Limiting.Alternate_upload_rate_when_not_downloading">Alternate upload rate when not downloading</a> option in the Preferences.</p>

<hr />
<h3><a class="name" id="How_do_I_make_uTorrent_use_a_specific_network_adapter" href="#How_do_I_make_uTorrent_use_a_specific_network_adapter">How do I make &micro;Torrent use a specific network adapter?</a></h3>
<p>Set the <a href="AppendixA_02_12.html#net.bind_ip">net.bind_ip</a> option to the IP address of the adapter you wish to use for incoming connections. Set the <a href="AppendixA_02_12.html#net.outgoing_ip">net.outgoing_ip</a> option to the IP address of the adapter you wish to use for outgoing connections.</p>

<hr />
<h3><a class="name" id="What_port_should_I_use_for_uTorrent" href="#What_port_should_I_use_for_uTorrent">What port should I use for &micro;Torrent?</a></h3>
<p>It is generally recommended that you not pick ports in the <span class="value">6881</span>-<span class="value">6889</span> range, as they are commonly throttled by ISPs. Since no single port has inherent advantages over any other port, you can simply let &micro;Torrent <a href="AppendixA_02_04.html#Listening_Port.Random_port">pick a random port</a> for you.</p>

<hr />
<h3><a class="name" id="What_should_I_set_my_half-open_connection_limit_to" href="#What_should_I_set_my_half-open_connection_limit_to">What should I set my half-open connection limit to?</a></h3>
<p>To answer this question, a bit of background information may be required. The "half-open" (technically, "embryonic") connection limit controls how many connections &micro;Torrent will attempt to establish simultaneously at any given time. Half-open connections are just like phone calls that haven't yet been picked up by the other end of the line. The half-open connection limit controls the number of such "calls" you can attempt to make at any given time, but does not limit how many fully-established connections (phone calls that are successfully picked up from the other end) you can make in total.</p>
<p>An important point to note (that is commonly misunderstood and misrepresented) is the fact that the half-open connection limit does not affect the overall speed at which the you can download or upload. At best, increasing the half-open limit may decrease the amount of time it takes for &micro;Torrent to attain decent speeds, but that only lasts for the first few minutes at worst. After several minutes have passed, the connection limit will have already been reached if there are enough peers anyhow, so at that point, there is no difference between a low half-open connection limit and a high limit.</p>
<p>High half-open limits, on the other hand, cause connection problems for many users because Microsoft limits the number of half-open connections able to be made globally in certain versions of Windows (starting with Windows XP with SP2, up to Windows Vista with SP1). It can be patched, but for little gain, as already explained previously (and Microsoft resets the limit every so often with some Windows Update anyhow). Even if your half-open connection count isn't limited by TCPIP.sys (either through patching, or you're using an OS that doesn't impose such a limit), an increase in the half-open limit would fall into the exact same limitations in efficacy as described above.</p>
<p>The rationale behind Microsoft's decision to limit half-open connections is that relatively few legitimate and properly-designed applications can be expected to require many half-open connections. On the flip side, if an application is attempting to establish a large amount of connections in a very short period of time, it is usually a sign that the application is a piece of malware attempting to communicate with other computers.</p>
<p>Why anyone would recommend that users increase their half-open limits as a general speed tweak that everyone should apply is incomprehensible. It doesn't actually help with speeds beyond the first few minutes at most, and comes with the detrimental effect of potentially killing connections for many users. The only potential exception to the "you don't need to increase your half-open connection limit" rule of thumb is if you have a connection with a very fast upload rate (think "several megabits per second"), and have many torrent jobs started simultaneously. In that situation, it may be beneficial to increase the half-open connection limit in order for &micro;Torrent to be able to communicate (within a reasonable amount of time) with the large pool of peers and trackers associated with starting many torrent jobs simultaneously.</p>
<p>In instances where raising the half-open connection limit is unavoidable or necessary, the user should keep in mind that &micro;Torrent's <a href="AppendixA_02_12.html#net.max_halfopen">net.max_halfopen</a> limit should never be set to a value greater than approximately <span class="value">80</span>% of the TCPIP.sys half-open connection limit. So if the TCPIP.sys limit is <span class="value">100</span>, the highest anyone should set &micro;Torrent's net.max_halfopen should be <span class="value">80</span>. That doesn't mean it needs to be <span class="value">80</span>% either -- it can be less. That's just a safe limit guideline to maintain quality of connection.</p>

<hr />
<h3><a class="name" id="Why_am_I_still_receiving_incoming_connection_attempts_after_I_have_already_closed_uTorrent" href="#Why_am_I_still_receiving_incoming_connection_attempts_after_I_have_already_closed_uTorrent">Why am I still receiving incoming connection attempts after I have already closed &micro;Torrent?</a></h3>
<p>In BitTorrent, peers disconnect from the swarm without notifying every other peer in the swarm because it would be inefficient to do so, and also because peers rarely have the IPs of every other peer in the swarm (which would make it impossible to do in the first place). Because most BitTorrent clients cache peer information, when they try to connect to a particular peer in their cache, they may end up attempting to connect to a peer that has already disconnected since they last received the peer's IP and port number.</p>
<p>This phenomenom is what you are observing when you see incoming connection attempts after you've exited &micro;Torrent. Depending on how many peers had a copy of your IP and port number in their peer cache, this can take up to several weeks to subside. Having <a href="AppendixA_02_06.html#Basic_BitTorrent_Features.Enable_DHT_Network">DHT enabled</a> may magnify the effects, as there are many more peers using DHT than there are connected to any one particular torrent swarm (so more users may have your IP and port number by the time you disconnect). Although there is no way to prevent this from occurring, disabling DHT may reduce the amount of time needed for this to taper off. Assuming your network is properly protected, these connection attempts can be safely ignored.</p>

		</div>
		<div class="navi" id="naviBot">
			<ul>
				<li><a href="FAQ_03.html">&laquo;&nbsp; Previous</a></li>
				<li><a href="FAQ_05.html">Next &nbsp;&raquo;</a></li>
			</ul>
		</div>
	</div>
</body>
</html>
